<!DOCTYPE html>
<html lang="zh-cn" class="html">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./assets/image/favicon.ico"
    />
    <title>Fluent Tetris</title>
    <link rel="stylesheet" href="./assets/style/var.css" />
    <link rel="stylesheet" href="./assets/style/main.css" />
    <!--<link rel="stylesheet" href="./assets/style/touch.css" />-->
  </head>
  <body>
    <main>
      <div id="p1">
        <table class="main">
          <caption>
            玩家1
          </caption>
          <tbody class="field" id="p1f"></tbody>
          <tbody class="connect cntHori" id="p1ch"></tbody>
          <tbody class="connect cntVert" id="p1cv"></tbody>
        </table>
        <div class="status" id="p1s">
          <div class="hold" id="p1h"></div>
          <div class="next" id="p1n"></div>
        </div>
      </div>
      <div id="p2" style="display: none;">
        <table class="main">
          <caption>
            玩家2
          </caption>
          <tbody class="field" id="p2f"></tbody>
          <tbody class="connect cntHori" id="p2ch"></tbody>
          <tbody class="connect cntVert" id="p2cv"></tbody>
        </table>
        <div class="status" id="p2s">
          <div class="hold" id="p2h"></div>
          <div class="next" id="p2n"></div>
        </div>
      </div>
      <!--<img id="bglogo" src="./assets/image/Tetris_2019_stroke.svg" alt="Tetris Logo">-->
    </main>
    <div class="cover start" id="startCover">按任意键以开始</div>
    <div class="cover blur hide" id="blurCover">失去焦点</div>
    <!--<div id="touch">
      <img id="t-hd" src="./assets/image/hardDrop.svg" alt="">
      <img id="t-sd" src="./assets/image/softDrop.svg" alt="">
    </div>-->
    <!-- Libraries -->
    <script src="./assets/script/ftMain.js"></script>
    <script src="./assets/script/ftMgr.js"></script>
    <script src="./assets/script/ftRender.js"></script>
    <script src="./assets/script/ftVar.js"></script>
    <script src="./assets/script/ftCtrl.js"></script>
    <!--<script src="./assets/script/ftTouch.js"></script>-->
    <!-- Instances -->
    <script>
      ft.render.initobj();
      document.getElementById('p1').main = new ft.main(1);
      // document.getElementById('p2').main = new ft.main(2);
      ft.ctrl.bind();
      ft.copyright();
      window.onblur=()=>{document.getElementById('blurCover').classList.remove('hide');};
      window.onfocus=()=>{document.getElementById('blurCover').classList.add('hide');};
      window.onkeydown = window.onclick = (e) => {
        console.log(e);
        document.getElementById('startCover').classList.add('hide');
        p1.main.start();
        window.onkeydown = window.onclick = () => {};
      };
    </script>
  </body>
</html>
